(()=>{var S=document.getElementById("portfolio-calculator-start").addEventListener("click",B),I=document.querySelector(".portfolio-package-btn.active"),E=document.querySelectorAll(".portfolio-package-btn");[...E].forEach(e=>{e.addEventListener("click",k)});var m=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),v=document.getElementById("deposit-input"),f=document.getElementById("monthly-input"),p=document.getElementById("start-input"),y=document.getElementById("end-input"),h=document.getElementById("years-lost-input"),d,g,a,t=0,n=0,r=!0,s=1,l=0,u=new Map;u.set("conservative",{title:"Conservative",value:2.26/100+1,class:"orange",position:55});u.set("balanced",{title:"Balanced",value:3.95/100+1,class:"light-blue",position:40});u.set("growth",{title:"Growth",value:5.42/100+1,class:"blue",position:30});u.set("venture",{title:"Venture",value:7.96/100+1,class:"dark-blue",position:15});var c=u.get(I.dataset.portfolioPackage);function B(){v.addEventListener("change",T),f.addEventListener("change",L),p.addEventListener("change",b),y.addEventListener("change",C),h.addEventListener("change",P),d=v.value,g=f.value,a=y.value-p.value,document.getElementById("years-invested").innerText=a,o()}function o(){for(let e=1;e<=a;e++){for(let i=1;i<=12;i++)if(r){t+=parseInt(d),n+=parseInt(d),r=!1;continue}else n+=parseInt(g),t+=parseInt(g);t=t*c.value}l=(t-n)/a*s,x()}function x(){document.getElementById("chosen-package").classList.remove("orange","light-blue","blue","dark-blue"),document.getElementById("chosen-package").classList.add(c.class),document.getElementById("chosen-package-text").innerText=c.title,document.getElementById("chosen-package-percent").innerText=` ${((c.value-1)*100).toFixed(2)}%`,document.getElementById("expected-result-text").innerText=m.format(t),document.getElementById("expected-profit-text").innerText=m.format(t-n),document.getElementById("result-card-loader").style.transform=`translateY(${c.position}%)`,document.getElementById("expected-loss-text").innerText=m.format(l),document.getElementById("expected-loss-desc").innerText=s==="1"?`Missed profits for ${s} year`:`Missed profits for ${s} years`,document.getElementById("years-lost-desc").innerText=s==="1"?"year":"years"}function k(e){[...E].forEach(i=>{i.classList.remove("active")}),e.currentTarget.classList.add("active"),c=u.get(e.currentTarget.dataset.portfolioPackage),t=0,n=0,l=0,r=!0,o()}function T(e){d=e.currentTarget.value,t=0,n=0,l=0,r=!0,o()}function L(e){g=e.currentTarget.value,t=0,n=0,l=0,r=!0,o()}function b(e){a=y.value-e.currentTarget.value,document.getElementById("years-invested").innerText=a,t=0,n=0,l=0,r=!0,o()}function C(e){a=e.currentTarget.value-p.value,document.getElementById("years-invested").innerText=a,t=0,n=0,l=0,r=!0,o()}function P(e){s=e.currentTarget.value,t=0,n=0,l=0,r=!0,s<=a&&o()}})();
